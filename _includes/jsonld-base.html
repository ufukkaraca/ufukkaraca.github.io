{% comment %}
Basic JSON-LD blocks for the site. Include this in the

<head> of default layout.
  Generates WebSite + Person schema, and optionally BreadcrumbList for thought pages.
  Assumptions: site.url configured in _config.yml
  {% endcomment %}
  {% assign site_url = site.url | default: '' %}
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "url": "{{ site_url }}/",
  "name": "{{ site.title | escape }}",
  "description": "{{ site.description | strip_newlines | escape }}",
  "publisher": {
    "@type": "Person",
    "name": "{{ site.author.name | default: site.author | escape }}"
  }
}
</script>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "{{ site.author.name | default: site.author | escape }}",
  "url": "{{ site_url }}/",
  "image": "{{ site.social_image | prepend: site_url }}"
}
</script>
  {% if page.collection == 'thoughts' %}
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {"@type": "ListItem", "position": 1, "name": "Home", "item": "{{ site_url }}/"},
    {"@type": "ListItem", "position": 2, "name": "Thoughts", "item": "{{ site_url }}/thoughts/"},
    {"@type": "ListItem", "position": 3, "name": "{{ page.title | escape }}", "item": "{{ site_url }}{{ page.url }}"}
  ]
}
</script>
  {% endif %}